{"version":3,"sources":["../../../../src/lib/A-Config/A-Config.context.ts"],"names":["A_Config","A_ExecutionContext","A_CONSTANTS__DEFAULT_ENV_VARIABLES_ARRAY","A_CONSTANTS__CONFIG_ENV_VARIABLES_ARRAY","A_FormatterHelper","A_ConfigError","property","value","A_Frame"],"mappings":";;;;;;;;;;;;;;;;AAcaA,gBAAA,GAAN,uBAEGC,6BAAA,CAMR;AAAA,EAUE,YACI,MAAA,EACF;AACE,IAAA,KAAA,CAAM,UAAU,CAAA;AATpB,IAAA,IAAA,CAAU,kCAAA,GAAqC;AAAA,MAC3C,GAAGC,iDAAA;AAAA,MACH,GAAGC;AAAA,KACP;AAQI,IAAA,IAAA,CAAK,OAAA,GAAU,OAAO,MAAA,IAAU,KAAA;AAChC,IAAA,IAAA,CAAK,iBAAA,GAAoB,MAAA,CAAO,SAAA,IAAa,EAAC;AAG9C,IAAA,KAAA,MAAW,GAAA,IAAO,OAAO,QAAA,EAAU;AAC/B,MAAA,IAAA,CAAK,GAAA;AAAA,QACDC,0BAAA,CAAkB,iBAAiB,GAAG,CAAA;AAAA,QACtC,MAAA,CAAO,SAAS,GAAgB;AAAA,OACpC;AAAA,IACJ;AAAA,EACJ;AAAA,EAGA,IAAI,MAAA,GAAkB;AAClB,IAAA,OAAO,IAAA,CAAK,OAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,IACI,QAAA,EAC2C;AAC3C,IAAA,IAAI,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,QAAe,CAAA,IAC5C,IAAA,CAAK,kCAAA,CAAmC,QAAA,CAAS,QAAe,CAAA,IAChE,CAAC,IAAA,CAAK,OAAA;AAET,MAAA,OAAO,KAAA,CAAM,GAAA,CAAIA,0BAAA,CAAkB,gBAAA,CAAiB,QAAQ,CAAC,CAAA;AAEjE,IAAA,MAAM,IAAIC,4BAAc,4CAA4C,CAAA;AAAA,EACxE;AAAA,EAuBA,GAAA,CACI,UAIA,KAAA,EACF;AACE,IAAA,MAAM,KAAA,GAAQ,MAAM,OAAA,CAAQ,QAAQ,IAC9B,QAAA,GACA,OAAO,aAAa,QAAA,GAChB,CAAC,EAAE,QAAA,EAAU,KAAA,EAAO,CAAA,GACpB,MAAA,CACG,KAAK,QAAQ,CAAA,CACb,GAAA,CAAI,CAAC,GAAA,MAAS;AAAA,MACX,QAAA,EAAU,GAAA;AAAA,MACV,KAAA,EAAO,SAAS,GAAG;AAAA,KACvB,CAAE,CAAA;AAEd,IAAA,KAAA,MAAW,EAAE,QAAA,EAAAC,SAAAA,EAAU,KAAA,EAAAC,MAAAA,MAAW,KAAA,EAAO;AACrC,MAAA,KAAA,CAAM,GAAA,CAAIH,0BAAA,CAAkB,gBAAA,CAAiBE,SAAQ,GAAGC,MAAK,CAAA;AAAA,IACjE;AAAA,EACJ;AACJ;AAtGaP,gBAAA,GAAN,eAAA,CAAA;AAAA,EALNQ,eAAQ,QAAA,CAAS;AAAA,IACd,SAAA,EAAW,SAAA;AAAA,IACX,IAAA,EAAM,UAAA;AAAA,IACN,WAAA,EAAa;AAAA,GAChB;AAAA,CAAA,EACYR,gBAAA,CAAA","file":"A-Config.context.js","sourcesContent":["import { A_CONSTANTS__DEFAULT_ENV_VARIABLES_ARRAY, A_FormatterHelper, A_TYPES__ConceptENVVariables } from \"@adaas/a-concept\";\nimport { A_TYPES__ConfigContainerConstructor } from \"./A-Config.types\";\nimport { A_ExecutionContext } from \"@adaas/a-utils/a-execution\";\nimport { A_CONSTANTS__CONFIG_ENV_VARIABLES_ARRAY } from \"./A-Config.constants\";\nimport { A_ConfigError } from \"./A-Config.error\";\nimport { A_Frame } from \"@adaas/a-frame\";\n\n\n\n@A_Frame.Fragment({\n    namespace: 'A-Utils',\n    name: 'A-Config',\n    description: 'Configuration management context that provides structured access to application configuration variables, supporting defaults and strict mode for enhanced reliability. Default environment variables are included for comprehensive configuration handling.'\n})\nexport class A_Config<\n    T extends Array<string | A_TYPES__ConceptENVVariables[number]> = any[]\n> extends A_ExecutionContext<\n    { [key in T[number]]: any; } & {\n        [key in typeof A_CONSTANTS__DEFAULT_ENV_VARIABLES_ARRAY[number]]: any\n    } & {\n        [key in typeof A_CONSTANTS__CONFIG_ENV_VARIABLES_ARRAY[number]]: any\n    }\n> {\n    protected _strict: boolean;\n    protected _configProperties!: T;\n\n    protected DEFAULT_ALLOWED_TO_READ_PROPERTIES = [\n        ...A_CONSTANTS__DEFAULT_ENV_VARIABLES_ARRAY,\n        ...A_CONSTANTS__CONFIG_ENV_VARIABLES_ARRAY\n    ];\n\n\n    constructor(\n        config: Partial<A_TYPES__ConfigContainerConstructor<T>>\n    ) {\n        super('a-config');\n\n        this._strict = config.strict ?? false;\n        this._configProperties = config.variables ?? [] as any;\n\n\n        for (const key in config.defaults) {\n            this.set(\n                A_FormatterHelper.toUpperSnakeCase(key),\n                config.defaults[key as T[number]]\n            );\n        }\n    }\n\n\n    get strict(): boolean {\n        return this._strict;\n    }\n\n\n    /** \n      * This method is used to get the configuration property by name\n      * \n      * @param property \n      * @returns \n      */\n    get<K extends T[number]>(\n        property: K | typeof this.DEFAULT_ALLOWED_TO_READ_PROPERTIES[number]\n    ): { [key in T[number]]: any; }[K] | undefined {\n        if (this._configProperties.includes(property as any)\n            || this.DEFAULT_ALLOWED_TO_READ_PROPERTIES.includes(property as any)\n            || !this._strict\n        )\n            return super.get(A_FormatterHelper.toUpperSnakeCase(property));\n\n        throw new A_ConfigError('Property not exists or not allowed to read');\n    }\n\n\n    /**\n     * \n     * This method is used to set the configuration property by name\n     * OR set multiple properties at once by passing an array of objects\n     * \n     * @param variables \n     */\n    set(\n        variables: Array<{\n            property: T[number] | A_TYPES__ConceptENVVariables[number],\n            value: any\n        }>\n    )\n    set(\n        variables: Partial<Record<T[number] | A_TYPES__ConceptENVVariables[number], any>>\n    )\n    set(\n        property: T[number] | A_TYPES__ConceptENVVariables[number],\n        value: any\n    )\n    set(\n        property: T[number] | A_TYPES__ConceptENVVariables[number] | Array<{\n            property: T[number] | A_TYPES__ConceptENVVariables[number],\n            value: any\n        }> | Partial<Record<T[number] | A_TYPES__ConceptENVVariables[number], any>>,\n        value?: any\n    ) {\n        const array = Array.isArray(property)\n            ? property\n            : typeof property === 'string'\n                ? [{ property, value }]\n                : Object\n                    .keys(property)\n                    .map((key) => ({\n                        property: key,\n                        value: property[key]\n                    }));\n\n        for (const { property, value } of array) {\n            super.set(A_FormatterHelper.toUpperSnakeCase(property), value);\n        }\n    }\n}"]}