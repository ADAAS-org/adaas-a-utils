{"version":3,"sources":["../../../../../src/lib/A-Config/components/ConfigReader.component.ts"],"names":["ConfigReader","A_Component","A_CONSTANTS__DEFAULT_ENV_VARIABLES_ARRAY","A_CONSTANTS__CONFIG_ENV_VARIABLES_ARRAY","A_Config","A_CONCEPT_ENV","A_Concept","A_Container","A_Scope","A_Frame","A_Polyfill"],"mappings":";;;;;;;;;;;;;;;;;;;AAmBaA,oBAAA,GAAN,2BAA2BC,oBAAA,CAAY;AAAA,EAO1C,YAEoC,QAAA,EAClC;AACE,IAAA,KAAA,EAAM;AAF0B,IAAA,IAAA,CAAA,QAAA,GAAA,QAAA;AAPpC,IAAA,IAAA,CAAU,kCAAA,GAAqC;AAAA,MAC3C,GAAGC,iDAAA;AAAA,MACH,GAAGC;AAAA,KACP;AAAA,EAOA;AAAA,EAGA,MAAM,aAAA,CACqB,SAAA,EACJ,OAAA,EACC,MAAA,EACtB;AACE,IAAA,IAAI,CAAC,MAAA,EAAQ;AACT,MAAA,MAAA,GAAS,IAAIC,wBAAA,CAAS;AAAA,QAClB,UAAU;AAAC,OACd,CAAA;AAED,MAAA,SAAA,CAAU,KAAA,CAAM,SAAS,MAAM,CAAA;AAAA,IACnC;AAEA,IAAA,MAAA,CAAO,GAAA,CAAI,uBAAA,EAAyBC,sBAAA,CAAc,qBAAqB,CAAA;AAAA,EAC3E;AAAA,EAGA,MAAM,WAEkB,MAAA,EACtB;AACE,IAAA,MAAM,IAAA,GAAO,MAAM,IAAA,CAAK,IAAA,EAAK;AAE7B,IAAA,KAAA,MAAW,OAAO,IAAA,EAAM;AACpB,MAAA,MAAA,CAAO,GAAA,CAAI,GAAA,EAAK,IAAA,CAAK,GAAG,CAAC,CAAA;AAAA,IAC7B;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,QAA2B,QAAA,EAA+B;AACtD,IAAA,OAAO,QAAA;AAAA,EACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,MAAM,IAAA,CACF,SAAA,GAAsB,EAAC,EACA;AACvB,IAAA,OAAO,EAAC;AAAA,EACZ;AACJ;AA9CU,eAAA,CAAA;AAAA,EADLC,mBAAU,IAAA,EAAK;AAAA,EAEX,qCAASC,oBAAW,CAAA,CAAA;AAAA,EACpB,qCAASC,gBAAO,CAAA,CAAA;AAAA,EAChB,qCAASJ,wBAAQ,CAAA;AAAA,CAAA,EAlBbJ,oBAAA,CAeH,SAAA,EAAA,eAAA,EAAA,CAAA,CAAA;AAiBA,eAAA,CAAA;AAAA,EADLM,mBAAU,IAAA,EAAK;AAAA,EAEX,yCAAa,QAAA,EAAS,CAAA;AAAA,EACtB,qCAASF,wBAAQ,CAAA;AAAA,CAAA,EAlCbJ,oBAAA,CAgCH,SAAA,EAAA,YAAA,EAAA,CAAA,CAAA;AAhCGA,oBAAA,GAAN,eAAA,CAAA;AAAA,EALNS,eAAQ,SAAA,CAAU;AAAA,IACf,SAAA,EAAW,SAAA;AAAA,IACX,IAAA,EAAM,cAAA;AAAA,IACN,WAAA,EAAa;AAAA,GAChB,CAAA;AAAA,EASQ,yCAAa,QAAA,EAAS,CAAA;AAAA,EACtB,qCAASC,oBAAU,CAAA;AAAA,CAAA,EATfV,oBAAA,CAAA","file":"ConfigReader.component.js","sourcesContent":["import {\n    A_Component, A_CONCEPT_ENV,\n    A_Concept, A_CONSTANTS__DEFAULT_ENV_VARIABLES_ARRAY,\n    A_Container, A_Dependency,\n    A_Inject, A_Scope\n} from \"@adaas/a-concept\";\nimport { A_Frame } from \"@adaas/a-frame\";\nimport { A_Config } from \"../A-Config.context\";\nimport { A_Polyfill } from \"@adaas/a-utils/a-polyfill\";\nimport { A_CONSTANTS__CONFIG_ENV_VARIABLES_ARRAY } from \"../A-Config.constants\";\n\n/**\n * Config Reader\n */\n@A_Frame.Component({\n    namespace: 'A-Utils',\n    name: 'ConfigReader',\n    description: 'Abstract component for reading configuration data from various sources such as files, environment variables, or remote services. This component can be extended to implement specific configuration reading strategies.'\n})\nexport class ConfigReader extends A_Component {\n\n    protected DEFAULT_ALLOWED_TO_READ_PROPERTIES = [\n        ...A_CONSTANTS__DEFAULT_ENV_VARIABLES_ARRAY,\n        ...A_CONSTANTS__CONFIG_ENV_VARIABLES_ARRAY\n    ];\n\n    constructor(\n        @A_Dependency.Required()\n        @A_Inject(A_Polyfill) protected polyfill: A_Polyfill,\n    ) {\n        super();\n    }\n\n    @A_Concept.Load()\n    async attachContext(\n        @A_Inject(A_Container) container: A_Container,\n        @A_Inject(A_Scope) context: A_Scope,\n        @A_Inject(A_Config) config?: A_Config<any>,\n    ) {\n        if (!config) {\n            config = new A_Config({\n                defaults: {}\n            });\n\n            container.scope.register(config);\n        }\n        \n        config.set('A_CONCEPT_ROOT_FOLDER', A_CONCEPT_ENV.A_CONCEPT_ROOT_FOLDER);\n    }\n\n    @A_Concept.Load()\n    async initialize(\n        @A_Dependency.Required()\n        @A_Inject(A_Config) config: A_Config,\n    ) {\n        const data = await this.read();\n\n        for (const key in data) {\n            config.set(key, data[key]);\n        }\n    }\n\n    /**\n     * Get the configuration property by Name\n     * @param property \n     */\n    resolve<_ReturnType = any>(property: string): _ReturnType {\n        return property as _ReturnType;\n    }\n\n    /**\n     * This method reads the configuration and sets the values to the context\n     * \n     * @returns \n     */\n    async read<T extends string>(\n        variables: Array<T> = []\n    ): Promise<Record<T, any>> {\n        return {} as Record<T, any>;\n    }\n}"]}