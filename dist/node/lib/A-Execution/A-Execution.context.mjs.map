{"version":3,"sources":["../../../../src/lib/A-Execution/A-Execution.context.ts"],"names":[],"mappings":";;;;AAWO,IAAM,kBAAA,GAAN,cAGG,UAAA,CAAW;AAAA,EAKjB,WAAA,CACI,MACA,QAAA,EACF;AACE,IAAA,KAAA,CAAM,EAAE,MAAM,CAAA;AACd,IAAA,IAAA,CAAK,KAAA,GAAQ,IAAI,MAAA,EAAmC;AAEpD,IAAA,KAAA,MAAW,OAAO,QAAA,EAAU;AACxB,MAAA,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,GAAA,EAAwB,QAAA,CAAS,GAAsB,CAA+B,CAAA;AAAA,IACzG;AAAA,EACJ;AAAA,EAGA,CAAC,MAAA,CAAO,QAAQ,CAAA,GAA6D;AACzE,IAAA,OAAO,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,QAAQ,CAAA,EAAE;AAAA,EACvC;AAAA,EAGA,IAAI,IAAA,GAA0B;AAC1B,IAAA,OAAO,IAAA,CAAK,KAAA;AAAA,EAChB;AAAA,EAGA,IAA+B,GAAA,EAAkC;AAC7D,IAAA,OAAO,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,GAAG,CAAA;AAAA,EAC7B;AAAA,EAEA,GAAA,CAA+B,KAAQ,KAAA,EAA2B;AAC9D,IAAA,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,GAAA,EAAK,KAAK,CAAA;AACzB,IAAA,OAAO,IAAA;AAAA,EACX;AAAA,EAEA,IAAI,GAAA,EAA+B;AAC/B,IAAA,OAAO,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,GAAG,CAAA;AAAA,EAC7B;AAAA,EAEA,KAAK,GAAA,EAA4B;AAC7B,IAAA,IAAA,CAAK,KAAA,CAAM,OAAO,GAAG,CAAA;AAAA,EACzB;AAAA,EAEA,KAAA,GAAc;AACV,IAAA,IAAA,CAAK,MAAM,KAAA,EAAM;AACjB,IAAA,OAAO,IAAA;AAAA,EACX;AAAA,EAGA,KAAA,GAAyB;AACrB,IAAA,OAAO,IAAA,CAAK,MAAM,MAAA,EAAO;AAAA,EAC7B;AAAA,EAEA,MAAA,GAAuC;AACnC,IAAA,OAAO;AAAA,MACH,MAAM,IAAA,CAAK,IAAA;AAAA,MACX,GAAG,IAAA,CAAK,IAAA,CAAK,MAAA;AAAO,KACxB;AAAA,EACJ;AACJ;AAhEa,kBAAA,GAAN,eAAA,CAAA;AAAA,EALN,QAAQ,QAAA,CAAS;AAAA,IACd,SAAA,EAAW,SAAA;AAAA,IACX,IAAA,EAAM,oBAAA;AAAA,IACN,WAAA,EAAa;AAAA,GAChB;AAAA,CAAA,EACY,kBAAA,CAAA","file":"A-Execution.context.mjs","sourcesContent":["import { A_Fragment, A_Meta, A_TYPES__Fragment_Serialized } from \"@adaas/a-concept\";\nimport { A_Frame } from \"@adaas/a-frame\";\n\n\n\n\n@A_Frame.Fragment({\n    namespace: 'A-Utils',\n    name: 'A-ExecutionContext',\n    description: 'Execution context fragment that provides a structured way to manage metadata and serialized data for execution environments. It allows storing and retrieving key-value pairs, facilitating context-aware operations within the application. It useful in cases when it\\'s necessary to share some runtime data across multiple steps of thee features, or components.'\n})\nexport class A_ExecutionContext<\n    _MetaType extends Record<string, any> = Record<string, any>,\n    _SerializedType extends Record<string, any> = Record<string, any>\n> extends A_Fragment {\n\n\n    protected _meta: A_Meta<_MetaType, _SerializedType>;\n\n    constructor(\n        name: string,\n        defaults?: Partial<_MetaType>,\n    ) {\n        super({ name });\n        this._meta = new A_Meta<_MetaType, _SerializedType>();\n\n        for (const key in defaults) {\n            this._meta.set(key as keyof _MetaType, defaults[key as keyof _MetaType] as _MetaType[keyof _MetaType]);\n        }\n    }\n\n\n    [Symbol.iterator](): Iterator<[keyof _MetaType, _MetaType[keyof _MetaType]]> {\n        return this._meta[Symbol.iterator]();\n    }\n\n\n    get meta(): A_Meta<_MetaType> {\n        return this._meta;\n    }\n\n\n    get<K extends keyof _MetaType>(key: K): _MetaType[K] | undefined {\n        return this._meta.get(key);\n    }\n\n    set<K extends keyof _MetaType>(key: K, value: _MetaType[K]): this {\n        this._meta.set(key, value);\n        return this;\n    }\n\n    has(key: keyof _MetaType): boolean {\n        return this._meta.has(key);\n    }\n\n    drop(key: keyof _MetaType): void {\n        this._meta.delete(key);\n    }\n\n    clear(): this {\n        this._meta.clear();\n        return this;\n    }\n\n\n    toRaw(): _SerializedType {\n        return this._meta.toJSON();\n    }\n\n    toJSON(): A_TYPES__Fragment_Serialized {\n        return {\n            name: this.name,\n            ...this.meta.toJSON(),\n        }\n    }\n}"]}