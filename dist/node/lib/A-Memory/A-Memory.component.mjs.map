{"version":3,"sources":["../../../../src/lib/A-Memory/A-Memory.component.ts"],"names":[],"mappings":"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","file":"A-Memory.component.mjs","sourcesContent":["import { A_Component, A_Inject, A_Scope, A_Feature, A_Dependency, A_Context } from \"@adaas/a-concept\";\nimport { A_MemoryFeatures } from \"./A-Memory.constants\";\nimport { A_MemoryContext } from \"./A-Memory.context\";\nimport { A_MemoryError } from \"./A-Memory.error\";\nimport { A_OperationContext } from \"@adaas/a-utils/a-operation\";\nimport { A_MemoryOperationContext } from \"./A-Memory.types\";\nimport { A_Frame } from \"@adaas/a-frame\";\n\n\n\n@A_Frame.Component({\n    namespace: 'A-Utils',\n    name: 'A-Memory',\n    description: 'In-memory data storage component that provides a simple key-value store with asynchronous operations. It supports basic memory operations such as get, set, has, drop, and clear, along with lifecycle management and error handling features. This components features can be extended with other components to provide ability store data across multiple storage, or extract data from multiple external sources. Good example is to store some runtime data that needs to be shared across multiple containers or concepts.'\n})\nexport class A_Memory<\n    _StorageType extends Record<string, any> = Record<string, any>,\n    _SerializedType extends Record<string, any> = Record<string, any>\n> extends A_Component {\n\n    protected _ready?: Promise<void>\n\n\n    get ready(): Promise<void> {\n        if (!this._ready) {\n            this._ready = this.init();\n        }\n        return this._ready;\n    }\n\n    // ======================================================================\n    // ======================A-Memory Lifecycle Hooks========================\n    // ======================================================================\n\n    @A_Feature.Extend()\n    /**\n     * Handles errors during memory operations\n     */\n    async [A_MemoryFeatures.onError](...args: any[]): Promise<void> {\n        // Handle error\n    }\n\n    @A_Feature.Extend()\n    /**\n     * Handles memory expiration\n     */\n    async [A_MemoryFeatures.onExpire](...args: any[]): Promise<void> {\n        // Clear memory on expire\n    }\n\n    @A_Feature.Extend()\n    /**\n     * Initializes the memory context\n     */\n    async [A_MemoryFeatures.onInit](\n        @A_Inject(A_MemoryContext) context: A_MemoryContext<_StorageType>,\n        ...args: any[]\n    ): Promise<void> {\n        // Initialize memory\n        if (!context) {\n            context = new A_MemoryContext<_StorageType>();\n            A_Context.scope(this).register(context);\n        }\n    }\n\n    @A_Feature.Extend()\n    async [A_MemoryFeatures.onDestroy](\n        @A_Inject(A_MemoryContext) context: A_MemoryContext<_StorageType>,\n        ...args: any[]): Promise<void> {\n        // Cleanup memory\n        context.clear();\n    }\n\n    /**\n     * Handles the 'get' operation for retrieving a value from memory\n     */\n    @A_Feature.Extend()\n    async [A_MemoryFeatures.onGet](\n        @A_Dependency.Required()\n        @A_Inject(A_OperationContext) operation: A_MemoryOperationContext,\n        @A_Inject(A_MemoryContext) context: A_MemoryContext<_StorageType>,\n        ...args: any[]\n    ): Promise<void> {\n        // Handle get operation\n        operation.succeed(context.get(operation.params.key));\n    }\n\n    @A_Feature.Extend()\n    /**\n     * Handles the 'has' operation for checking existence of a key in memory\n     */\n    async [A_MemoryFeatures.onHas](\n        @A_Dependency.Required()\n        @A_Inject(A_OperationContext) operation: A_MemoryOperationContext<boolean>,\n        @A_Inject(A_MemoryContext) context: A_MemoryContext<_StorageType>,\n        ...args: any[]\n    ): Promise<void> {\n        // Handle has operation\n        operation.succeed(context.has(operation.params.key));\n    }\n\n    @A_Feature.Extend()\n    /**\n     * Handles the 'set' operation for saving a value in memory\n     */\n    async [A_MemoryFeatures.onSet](\n        @A_Dependency.Required()\n        @A_Inject(A_OperationContext) operation: A_MemoryOperationContext,\n        @A_Inject(A_MemoryContext) context: A_MemoryContext<_StorageType>,\n        @A_Inject(A_Scope) scope: A_Scope,\n        ...args: any[]\n    ): Promise<void> {\n        // Handle set operation\n        context.set(operation.params.key, operation.params.value);\n    }\n\n    @A_Feature.Extend()\n    /**\n     * Handles the 'drop' operation for removing a value from memory\n     */\n    async [A_MemoryFeatures.onDrop](\n        @A_Dependency.Required()\n        @A_Inject(A_OperationContext) operation: A_MemoryOperationContext,\n        @A_Inject(A_MemoryContext) context: A_MemoryContext<_StorageType>,\n        ...args: any[]\n    ): Promise<void> {\n        // Handle drop operation\n        context.delete(operation.params.key);\n    }\n\n    @A_Feature.Extend()\n    /**\n     * Handles the 'clear' operation for clearing all values from memory\n     */\n    async [A_MemoryFeatures.onClear](\n        @A_Dependency.Required()\n        @A_Inject(A_OperationContext) operation: A_MemoryOperationContext,\n        @A_Inject(A_MemoryContext) context: A_MemoryContext<_StorageType>,\n        ...args: any[]\n    ): Promise<void> {\n        // Handle clear operation\n        context.clear();\n    }\n\n\n\n    // ======================================================================\n    // =========================A-Memory Methods=============================\n    // ======================================================================\n\n    /**\n     * Initializes the memory context\n     */\n    async init() {\n        if (this._ready)\n            return this._ready;\n\n        const scope = new A_Scope({ name: 'A-Memory-Init-Scope' })\n            .inherit(A_Context.scope(this));\n\n        try {\n            await this.call(A_MemoryFeatures.onInit, scope);\n\n        } catch (error) {\n            const initError = new A_MemoryError({\n                title: A_MemoryError.MemoryInitializationError,\n                description: 'An error occurred during memory initialization',\n                originalError: error\n            })\n\n            scope.register(initError);\n\n            await this.call(A_MemoryFeatures.onError, scope);\n\n            scope.destroy();\n\n            throw initError;\n        }\n    }\n\n    /**\n     * Destroys the memory context\n     *\n     * This method is responsible for cleaning up any resources\n     * used by the memory context and resetting its state.\n     */\n    async destroy() {\n\n        const scope = new A_Scope({ name: 'A-Memory-Destroy-Scope' })\n            .inherit(A_Context.scope(this));\n\n        try {\n            this._ready = undefined;\n\n            await this.call(A_MemoryFeatures.onDestroy, scope);\n\n        } catch (error) {\n            const destroyError = new A_MemoryError({\n                title: A_MemoryError.MemoryDestructionError,\n                description: 'An error occurred during memory destruction',\n                originalError: error\n            })\n\n            scope.register(destroyError);\n\n\n            await this.call(A_MemoryFeatures.onError, scope);\n\n            scope.destroy();\n\n            throw destroyError;\n        }\n    }\n\n    /**\n      * Retrieves a value from the context memory\n      * \n      * @param key - memory key to retrieve\n      * @returns - value associated with the key or undefined if not found\n      */\n    async get<K extends keyof _StorageType>(\n        /**\n         * Key to retrieve the value for\n         */\n        key: K\n    ): Promise<_StorageType[K] | undefined> {\n\n        const operation = new A_OperationContext('get', { key });\n\n        const scope = new A_Scope({\n            name: 'A-Memory-Get-Operation-Scope',\n            fragments: [operation]\n        })\n            .inherit(A_Context.scope(this));\n\n        try {\n\n            await this.call(A_MemoryFeatures.onGet, scope);\n\n            scope.destroy();\n\n            return operation.result;\n\n        } catch (error) {\n            const getError = new A_MemoryError({\n                title: A_MemoryError.MemoryGetError,\n                description: `An error occurred while getting the value for key \"${String(key)}\"`,\n                originalError: error\n            });\n\n            scope.register(getError);\n\n            await this.call(A_MemoryFeatures.onError, scope);\n\n            scope.destroy();\n\n            throw getError;\n        }\n    }\n\n    /**\n     * Checks if a value exists in the context memory\n     * \n     * @param key - memory key to check\n     * @returns - true if key exists, false otherwise\n     */\n    async has(key: keyof _StorageType): Promise<boolean> {\n        const operation = new A_OperationContext('has', { key });\n\n        const scope = new A_Scope({\n            name: 'A-Memory-Has-Operation-Scope',\n            fragments: [operation]\n        })\n            .inherit(A_Context.scope(this));\n\n        try {\n\n            await this.call(A_MemoryFeatures.onHas, scope);\n\n            scope.destroy();\n\n            return operation.result;\n\n        } catch (error) {\n            const getError = new A_MemoryError({\n                title: A_MemoryError.MemoryHasError,\n                description: `An error occurred while checking existence for key \"${String(key)}\"`,\n                originalError: error\n            });\n\n            scope.register(getError);\n\n            await this.call(A_MemoryFeatures.onError, scope);\n\n            scope.destroy();\n\n            throw getError;\n        }\n    }\n\n    /**\n     * Saves a value in the context memory\n     * \n     * @param key \n     * @param value \n     */\n    async set<K extends keyof _StorageType>(\n        /**\n         * Key to save the value under\n         */\n        key: K,\n        /**\n         * Value to save\n         */\n        value: _StorageType[K]\n    ): Promise<void> {\n        const operation = new A_OperationContext('set', { key, value });\n\n        const scope = new A_Scope({\n            name: 'A-Memory-Set-Operation-Scope',\n            fragments: [operation]\n        })\n            .inherit(A_Context.scope(this));\n\n        try {\n\n            await this.call(A_MemoryFeatures.onSet, scope);\n\n        } catch (error) {\n            const setError = new A_MemoryError({\n                title: A_MemoryError.MemorySetError,\n                description: `An error occurred while setting the value for key \"${String(key)}\"`,\n                originalError: error\n            });\n\n            scope.register(setError);\n\n            await this.call(A_MemoryFeatures.onError, scope);\n\n            scope.destroy();\n\n            throw setError;\n        }\n    }\n\n\n    /**\n     * Removes a value from the context memory by key\n     * \n     * @param key \n     */\n    async drop(key: keyof _StorageType): Promise<void> {\n\n        const operation = new A_OperationContext('drop', { key });\n\n        const scope = new A_Scope({\n            name: 'A-Memory-Drop-Operation-Scope',\n            fragments: [operation]\n        })\n            .inherit(A_Context.scope(this));\n\n        try {\n\n            await this.call(A_MemoryFeatures.onDrop, scope);\n\n        } catch (error) {\n            const dropError = new A_MemoryError({\n                title: A_MemoryError.MemoryDropError,\n                description: `An error occurred while dropping the value for key \"${String(key)}\"`,\n                originalError: error\n            });\n\n            scope.register(dropError);\n\n            await this.call(A_MemoryFeatures.onError, scope);\n\n            scope.destroy();\n\n            throw dropError;\n        }\n    }\n\n    /**\n     * Clears all stored values in the context memory\n     */\n    async clear(): Promise<void> {\n        const operation = new A_OperationContext('clear');\n\n        const scope = new A_Scope({\n            name: 'A-Memory-Clear-Operation-Scope',\n            fragments: [operation]\n        })\n            .inherit(A_Context.scope(this));\n\n        try {\n\n            await this.call(A_MemoryFeatures.onClear, scope);\n\n        } catch (error) {\n            const clearError = new A_MemoryError({\n                title: A_MemoryError.MemoryClearError,\n                description: `An error occurred while clearing the memory`,\n                originalError: error\n            });\n\n            scope.register(clearError);\n\n            await this.call(A_MemoryFeatures.onError, scope);\n\n            scope.destroy();\n\n            throw clearError;\n        }\n    }\n\n\n    /**\n     * Serializes the memory context to a JSON object\n     *  \n     * @returns - serialized memory object \n     */\n    async toJSON(): Promise<_SerializedType> {\n        const operation = new A_OperationContext('serialize');\n\n        const scope = new A_Scope({\n            name: 'A-Memory-Serialize-Operation-Scope',\n            fragments: [operation]\n        })\n            .inherit(A_Context.scope(this));\n\n        try {\n\n            await this.call(A_MemoryFeatures.onSerialize, scope);\n\n            return operation.result as _SerializedType;\n\n        } catch (error) {\n            const serializeError = new A_MemoryError({\n                title: A_MemoryError.MemorySerializeError,\n                description: `An error occurred while serializing the memory`,\n                originalError: error\n            });\n\n            scope.register(serializeError);\n\n            await this.call(A_MemoryFeatures.onError, scope);\n\n            scope.destroy();\n\n            throw serializeError;\n        }\n\n    }\n}"]}