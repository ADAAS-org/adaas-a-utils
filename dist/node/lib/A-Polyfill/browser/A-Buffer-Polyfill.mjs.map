{"version":3,"sources":["../../../../../src/lib/A-Polyfill/browser/A-Buffer-Polyfill.ts"],"names":[],"mappings":";;;AAGO,MAAM,yBAAyB,oBAAA,CAAqB;AAAA,EACvD,YAAY,MAAA,EAAkB;AAC1B,IAAA,KAAA,CAAM,MAAM,CAAA;AAAA,EAChB;AAAA,EAEA,MAAgB,kBAAA,GAAoC;AAChD,IAAA,IAAA,CAAK,OAAA,GAAU;AAAA,MACX,IAAA,EAAM,CAAC,IAAA,EAAW,QAAA,KAAsB;AACpC,QAAA,IAAI,OAAO,SAAS,QAAA,EAAU;AAC1B,UAAA,OAAO,IAAI,WAAA,EAAY,CAAE,MAAA,CAAO,IAAI,CAAA;AAAA,QACxC;AACA,QAAA,OAAO,IAAI,WAAW,IAAI,CAAA;AAAA,MAC9B,CAAA;AAAA,MACA,KAAA,EAAO,CAAC,IAAA,EAAc,IAAA,KAAe;AACjC,QAAA,MAAM,MAAA,GAAS,IAAI,UAAA,CAAW,IAAI,CAAA;AAClC,QAAA,IAAI,SAAS,MAAA,EAAW;AACpB,UAAA,MAAA,CAAO,KAAK,IAAI,CAAA;AAAA,QACpB;AACA,QAAA,OAAO,MAAA;AAAA,MACX,CAAA;AAAA,MACA,WAAA,EAAa,CAAC,IAAA,KAAiB;AAC3B,QAAA,OAAO,IAAI,WAAW,IAAI,CAAA;AAAA,MAC9B,CAAA;AAAA,MACA,QAAA,EAAU,CAAC,GAAA,KAAa;AACpB,QAAA,OAAO,GAAA,YAAe,cAAc,GAAA,YAAe,WAAA;AAAA,MACvD,CAAA;AAAA,MACA,MAAA,EAAQ,CAAC,IAAA,EAAa,WAAA,KAAyB;AAC3C,QAAA,MAAM,MAAA,GAAS,WAAA,IAAe,IAAA,CAAK,MAAA,CAAO,CAAC,KAAK,GAAA,KAAQ,GAAA,GAAM,GAAA,CAAI,MAAA,EAAQ,CAAC,CAAA;AAC3E,QAAA,MAAM,MAAA,GAAS,IAAI,UAAA,CAAW,MAAM,CAAA;AACpC,QAAA,IAAI,MAAA,GAAS,CAAA;AACb,QAAA,KAAA,MAAW,OAAO,IAAA,EAAM;AACpB,UAAA,MAAA,CAAO,GAAA,CAAI,KAAK,MAAM,CAAA;AACtB,UAAA,MAAA,IAAU,GAAA,CAAI,MAAA;AAAA,QAClB;AACA,QAAA,OAAO,MAAA;AAAA,MACX;AAAA,KACJ;AAAA,EACJ;AACJ","file":"A-Buffer-Polyfill.mjs","sourcesContent":["import type { A_Logger } from \"@adaas/a-utils/a-logger\";\nimport { A_BufferPolyfillBase } from \"../base/A-Buffer-Polyfill.base\";\n\nexport class A_BufferPolyfill extends A_BufferPolyfillBase {\n    constructor(logger: A_Logger) {\n        super(logger);\n    }\n\n    protected async initImplementation(): Promise<void> {\n        this._buffer = {\n            from: (data: any, encoding?: string) => {\n                if (typeof data === 'string') {\n                    return new TextEncoder().encode(data);\n                }\n                return new Uint8Array(data);\n            },\n            alloc: (size: number, fill?: any) => {\n                const buffer = new Uint8Array(size);\n                if (fill !== undefined) {\n                    buffer.fill(fill);\n                }\n                return buffer;\n            },\n            allocUnsafe: (size: number) => {\n                return new Uint8Array(size);\n            },\n            isBuffer: (obj: any) => {\n                return obj instanceof Uint8Array || obj instanceof ArrayBuffer;\n            },\n            concat: (list: any[], totalLength?: number) => {\n                const length = totalLength || list.reduce((sum, buf) => sum + buf.length, 0);\n                const result = new Uint8Array(length);\n                let offset = 0;\n                for (const buf of list) {\n                    result.set(buf, offset);\n                    offset += buf.length;\n                }\n                return result;\n            }\n        };\n    }\n}"]}