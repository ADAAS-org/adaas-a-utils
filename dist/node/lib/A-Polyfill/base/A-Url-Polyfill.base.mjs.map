{"version":3,"sources":["../../../../../src/lib/A-Polyfill/base/A-Url-Polyfill.base.ts"],"names":[],"mappings":";;AAGO,MAAe,iBAAA,CAAkB;AAAA,EAIpC,YACc,MAAA,EACZ;AADY,IAAA,IAAA,CAAA,MAAA,GAAA,MAAA;AAHd,IAAA,IAAA,CAAU,YAAA,GAAwB,KAAA;AAAA,EAI/B;AAAA,EAEH,IAAI,aAAA,GAAyB;AACzB,IAAA,OAAO,IAAA,CAAK,YAAA;AAAA,EAChB;AAAA,EAEA,MAAM,GAAA,GAA8B;AAChC,IAAA,IAAI,CAAC,KAAK,YAAA,EAAc;AACpB,MAAA,MAAM,KAAK,IAAA,EAAK;AAAA,IACpB;AACA,IAAA,OAAO,IAAA,CAAK,IAAA;AAAA,EAChB;AAAA,EAEA,MAAgB,IAAA,GAAsB;AAClC,IAAA,IAAI;AACA,MAAA,MAAM,KAAK,kBAAA,EAAmB;AAC9B,MAAA,IAAA,CAAK,YAAA,GAAe,IAAA;AAAA,IACxB,SAAS,KAAA,EAAO;AACZ,MAAA,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,mCAAA,EAAqC,KAAK,CAAA;AAC5D,MAAA,MAAM,KAAA;AAAA,IACV;AAAA,EACJ;AAGJ","file":"A-Url-Polyfill.base.mjs","sourcesContent":["import type { A_Logger } from \"@adaas/a-utils/a-logger\";\nimport { IurlInterface } from \"../A-Polyfill.types\";\n\nexport abstract class A_UrlPolyfillBase {\n    protected _url!: IurlInterface;\n    protected _initialized: boolean = false;\n\n    constructor(\n        protected logger: A_Logger\n    ) {}\n\n    get isInitialized(): boolean {\n        return this._initialized;\n    }\n\n    async get(): Promise<IurlInterface> {\n        if (!this._initialized) {\n            await this.init();\n        }\n        return this._url;\n    }\n\n    protected async init(): Promise<void> {\n        try {\n            await this.initImplementation();\n            this._initialized = true;\n        } catch (error) {\n            this.logger.error('Failed to initialize url polyfill', error);\n            throw error;\n        }\n    }\n\n    protected abstract initImplementation(): Promise<void>;\n}"]}